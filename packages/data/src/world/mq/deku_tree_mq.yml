"Deku Tree":
  dungeon: DT
  exits:
    "Kokiri Forest Near Deku Tree": "true"
    "Deku Tree Lobby": "true"
"Deku Tree Lobby":
  dungeon: DT
  exits:
    "Deku Tree": "true"
    "Deku Tree 2nd Floor": "true"
    "Deku Tree Basement": "has_fire || (can_use_sticks && event(DEKU_MQ_MAIN_TORCH))"
  events:
    STICKS: "can_kill_baba_sticks"
    NUTS: "can_kill_baba_nuts"
  locations:
    "MQ Deku Tree Grass Entrance Lower 1": "can_cut_grass"
    "MQ Deku Tree Grass Entrance Lower 2": "can_cut_grass"
    "MQ Deku Tree Grass Entrance Lower 3": "can_cut_grass"
    "MQ Deku Tree Grass Entrance Lower 4": "can_cut_grass"
    "MQ Deku Tree Grass Entrance Lower 5": "can_cut_grass"
"Deku Tree 2nd Floor":
  dungeon: DT
  exits:
    "Deku Tree Lobby": "true"
    "Deku Tree 3rd Floor": "true"
    "Deku Tree 2nd Floor Door": "has_fire || (can_use_sticks && event(DEKU_MQ_MAIN_TORCH)) || (event(DEKU_MQ_MAIN_TORCH) && can_use_bow)"
  locations:
    "MQ Deku Tree Map Chest": "true"
    "MQ Deku Tree GS Lobby Crate": "gs && can_damage_skull"
    "MQ Deku Tree Heart Lobby": "true"
    "MQ Deku Tree Grass Entrance Upper 1": "can_cut_grass"
    "MQ Deku Tree Grass Entrance Upper 2": "can_cut_grass"
"Deku Tree 2nd Floor Door":
  dungeon: DT
  exits:
    "Deku Tree 2nd Floor": "true"
    "Deku Tree Room Before Compass Room Entry Door": "true"
"Deku Tree Room Before Compass Room Entry Door":
  dungeon: DT
  exits:
    "Deku Tree 2nd Floor Door": "true"
    "Deku Tree Room Before Compass Room": "true"
"Deku Tree Room Before Compass Room":
  dungeon: DT
  exits:
    "Deku Tree Room Before Compass Room Entry Door": "true"
    "Deku Tree Room Before Compass Room Exit Door": "true"
  events:
    #STICKS: "can_kill_baba_sticks"  #Big Deku Baba here
    #NUTS: "can_kill_baba_nuts" #Big Deku Baba here
    DEKU_MQ_BEFORE_COMPASS_EYE_SWITCH: "can_use_slingshot || can_use_bow"
  locations:
    "MQ Deku Tree Heart Before Compass": "true"
    "MQ Deku Tree Grass Room Before Compass 1": "can_cut_grass"
    "MQ Deku Tree Grass Room Before Compass 2": "can_cut_grass"
    "MQ Deku Tree Grass Room Before Compass 3": "can_cut_grass"
    "MQ Deku Tree Grass Room Before Compass 4": "can_cut_grass"
    "MQ Deku Tree Grass Room Before Compass 5": "can_cut_grass"
    "MQ Deku Tree Grass Room Before Compass 6": "can_cut_grass"
    "MQ Deku Tree Grass Room Before Compass 7": "can_cut_grass"
"Deku Tree Room Before Compass Room Exit Door":
  dungeon: DT
  exits:
    "Deku Tree Room Before Compass Room": "true"
    "Deku Tree Compass Room Entry Door": "event(DEKU_MQ_BEFORE_COMPASS_EYE_SWITCH)"
"Deku Tree Compass Room Entry Door":
  dungeon: DT
  exits:
    "Deku Tree Room Before Compass Room Exit Door": "true"
    "Deku Tree MQ Compass Room Entrance": "true"
"Deku Tree MQ Compass Room Entrance":
  dungeon: DT
  exits:
    "Deku Tree Compass Room Entry Door": "true"
    "Deku Tree MQ Compass Room Chest Side": "true"
"Deku Tree MQ Compass Room Chest Side":
  dungeon: DT
  exits:
    "Deku Tree MQ Compass Room Entrance": "can_use_slingshot || climb_anywhere || hookshot_anywhere"
    "Deku Tree MQ Compass Room Chest Side Alcove": "has_bombchu || has_mask_blast || (can_play_time && has_explosives_or_hammer) || hookshot_anywhere || climb_anywhere"
  locations:
    "MQ Deku Tree Compass Chest": "true"
    "MQ Deku Tree Grass Compass Room 1": "can_cut_grass"
    "MQ Deku Tree Grass Compass Room 2": "can_cut_grass"
    "MQ Deku Tree Grass Compass Room 3": "can_cut_grass"
    "MQ Deku Tree Grass Compass Room 4": "can_cut_grass"
"Deku Tree MQ Compass Room Chest Side Alcove":
  dungeon: DT
  exits:
    "Deku Tree MQ Compass Room Chest Side": "has_explosives_or_hammer || hookshot_anywhere || climb_anywhere"
  locations:
    "MQ Deku Tree GS Compass Room": "gs && can_collect_distance"
    "MQ Deku Tree Heart Compass Room": "true"
"Deku Tree 3rd Floor":
  dungeon: DT
  exits:
    "Deku Tree 2nd Floor": "true"
    "Deku Tree Lobby": "true"
    "Deku Tree Basement": "true"
    "Deku Tree 3rd Floor Door": "has_fire || event(DEKU_MQ_MAIN_TORCH)"
  events:
    DEKU_MQ_MAIN_TORCH: "true"
"Deku Tree 3rd Floor Door":
  dungeon: DT
  exits:
    "Deku Tree 3rd Floor": "true"
    "Deku Tree Slingshot Room Entry Door": "true"
"Deku Tree Slingshot Room Entry Door":
  dungeon: DT
  exits:
    "Deku Tree 3rd Floor Door": "event(DEKU_MQ_SLINGSHOT_ENEMIES)"
    "Deku Tree MQ Slingshot Room": "true"
"Deku Tree MQ Slingshot Room":
  dungeon: DT
  exits:
    "Deku Tree Slingshot Room Entry Door": "true"
  events:
    DEKU_MQ_SLINGSHOT_ENEMIES: "soul_deku_baba && soul_enemy(SOUL_ENEMY_GOHMA_LARVA) && (has_weapon || can_use_sticks || has_ranged_weapon_child)" #Bombs and Din's work, but it's horrible.
    DEKU_MQ_SLINGSHOT_TORCH: "has_fire || can_use_sticks"
  locations:
    "MQ Deku Tree Slingshot Chest": "event(DEKU_MQ_SLINGSHOT_ENEMIES)"
    "MQ Deku Tree Slingshot Room Far Chest": "event(DEKU_MQ_SLINGSHOT_TORCH)"
    "MQ Deku Tree Heart Slingshot Room": "true"
    "MQ Deku Tree Grass Slingshot Room Front 1": "can_cut_grass"
    "MQ Deku Tree Grass Slingshot Room Front 2": "can_cut_grass"
    "MQ Deku Tree Grass Slingshot Room Back 1": "can_cut_grass"
    "MQ Deku Tree Grass Slingshot Room Back 2": "can_cut_grass"
"Deku Tree Basement":
  dungeon: DT
  exits:
    "Deku Tree Lobby": "true"
    "Deku Tree Basement Ledge": "is_adult || event(DEKU_BLOCK) || trick(OOT_DEKU_SKIP) || has_hover_boots || hookshot_anywhere || climb_anywhere"
    "Deku Tree Basement Door": "true"
  events:
    #DEKU_MQ_WATER_PATH_TORCH1: "has_fire || can_use_sticks" #You need to go through the next room with fire sticks for this event. NEEDS A !(SETTINGS.DOORRANDO) or something....
    DEKU_MQ_BASEMENT_EYE_SWITCH: "can_use_bow || can_use_slingshot"
  locations:
    "MQ Deku Tree Basement Chest": "can_use_sticks || has_fire"
    "MQ Deku Tree Grass Basement Lower 1": "can_cut_grass"
    "MQ Deku Tree Grass Basement Lower 2": "can_cut_grass"
    "MQ Deku Tree Grass Basement Lower 3": "can_cut_grass"
    "MQ Deku Tree Grass Basement Lower 4": "can_cut_grass"
"Deku Tree Basement Door":
  dungeon: DT
  exits:
    "Deku Tree Basement": "true"
    "Deku Tree Room Before Water Room Entry Door": "event(DEKU_MQ_BASEMENT_EYE_SWITCH)"
"Deku Tree Room Before Water Room Entry Door":
  dungeon: DT
  exits:
    "Deku Tree Basement Door": "event(DEKU_MQ_ROOM_BEFORE_WATER_CLEAR)"
    "Deku Tree Room Before Water Room": "true"
"Deku Tree Room Before Water Room":
  dungeon: DT
  exits:
    "Deku Tree Room Before Water Room Entry Door": "true"
    "Deku Tree Room Before Water Room Exit Door": "true"
  events:
    DEKU_MQ_WATER_PATH_TORCH1: "has_fire"
    DEKU_MQ_ROOM_BEFORE_WATER_CLEAR: "soul_deku_scrub && soul_enemy(SOUL_ENEMY_GOHMA_LARVA) && can_damage"
  locations:
    "MQ Deku Tree Grass Room Before Spike 1": "can_cut_grass"
    "MQ Deku Tree Grass Room Before Spike 2": "can_cut_grass"
    "MQ Deku Tree Grass Room Before Spike 3": "can_cut_grass"
    "MQ Deku Tree Grass Room Before Spike 4": "can_cut_grass"
"Deku Tree Room Before Water Room Exit Door":
  dungeon: DT
  exits:
    "Deku Tree Room Before Water Room": "true"
    "Deku Tree Water Room Entry Door": "event(DEKU_MQ_WATER_PATH_TORCH1)"
"Deku Tree Water Room Entry Door":
  dungeon: DT
  exits:
    "Deku Tree Room Before Water Room Exit Door": "true"
    "Deku Tree Water Room Front": "true"
"Deku Tree Water Room Front":
  dungeon: DT
  exits:
    "Deku Tree Water Room Entry Door": "true"
    "Deku Tree Water Room Back": "true" #You can do this as both adult and child, without a shield, by rolling under the spike.
  events:
    MQ_DEKU_WATER_TORCHES: "(is_child && can_use_sticks) || (can_use_bow && can_play_elegy)" #You can do this as both adult and child, without a shield, by rolling under the spike.
  locations:
    "MQ Deku Tree Before Water Platform Chest": "true"
    "MQ Deku Tree Grass Spike Room Front 1": "can_cut_grass"
    "MQ Deku Tree Grass Spike Room Front 2": "can_cut_grass"
    "MQ Deku Tree Grass Spike Room Front 3": "can_cut_grass"
"Deku Tree Water Room Back":
  dungeon: DT
  exits:
    "Deku Tree Water Room Front": "true"
    "Deku Tree Water Room Exit Door": "climb_anywhere || hookshot_anywhere || can_damage" #Need to kill the skultulla blocking the way.
  events:
    MQ_DEKU_WATER_TORCHES: "has_fire"
  locations:
    "MQ Deku Tree After Water Platform Chest": "can_play_time"
    "MQ Deku Tree Grass Spike Room Back 1": "can_cut_grass"
    "MQ Deku Tree Grass Spike Room Back 2": "can_cut_grass"
"Deku Tree Water Room Exit Door":
  dungeon: DT
  exits:
    "Deku Tree Water Room Back": "true"
    "Deku Tree Room After Water Room Entry Door": "event(MQ_DEKU_WATER_TORCHES)"
"Deku Tree Room After Water Room Entry Door":
  dungeon: DT
  exits:
    "Deku Tree Water Room Exit Door": "event(DEKU_MQ_ROOM_AFTER_WATER_CLEAR)"
    "Deku Tree Room After Water Room": "true"
"Deku Tree Room After Water Room":
  dungeon: DT
  exits:
    "Deku Tree Room After Water Room Entry Door": "true"
    "Deku Tree Room After Water Room Exit Door": "true"
  events:
    DEKU_MQ_ROOM_AFTER_WATER_CLEAR: "soul_keese && soul_deku_scrub && soul_enemy(SOUL_ENEMY_GOHMA_LARVA) && (has_weapon || has_ranged_weapon_child)" #Judgment call, this fight is way too big for sticks and nuts to be forced.
  locations:
    "MQ Deku Tree Grass Larvae Room 1": "can_cut_grass"
    "MQ Deku Tree Grass Larvae Room 2": "can_cut_grass"
"Deku Tree Room After Water Room Exit Door":
  dungeon: DT
  exits:
    "Deku Tree Room After Water Room": "true"
    "Deku Tree Gravestone Room Entry Door": "event(DEKU_MQ_ROOM_AFTER_WATER_CLEAR)"
"Deku Tree Gravestone Room Entry Door":
  dungeon: DT
  exits:
    "Deku Tree Room After Water Room Exit Door": "true"
    "Deku Tree MQ Grave Room": "true"
"Deku Tree MQ Grave Room":
  dungeon: DT
  exits:
    "Deku Tree Gravestone Room Entry Door": "true"
    "Deku Tree Gravestone Room Back Room Door": "can_use_sticks || has_fire"
    "Deku Tree Basement Ledge": "is_child && (can_use_sticks || can_use_din)"
  events:
    STICKS: "can_kill_baba_sticks"
    NUTS: "can_kill_baba_nuts"
  locations:
    "MQ Deku Tree GS Song of Time Blocks": "gs && ((can_play_time && can_collect_distance) || can_longshot)"
    "MQ Deku Tree Grass Gravestone Room 1": "can_cut_grass"
    "MQ Deku Tree Grass Gravestone Room 2": "can_cut_grass"
    "MQ Deku Tree Grass Gravestone Room 3": "can_cut_grass"
    "MQ Deku Tree Grass Gravestone Room 4": "can_cut_grass"
    "MQ Deku Tree Grass Gravestone Room 5": "can_cut_grass"
    "MQ Deku Tree Wonder Item 1": "can_use_sword_or_sticks"
    "MQ Deku Tree Wonder Item 2": "can_use_sword_or_sticks"
    "MQ Deku Tree Wonder Item 3": "can_use_sword_or_sticks"
    "MQ Deku Tree Wonder Item 4": "can_use_sword_or_sticks"
"Deku Tree Gravestone Room Back Room Door":
  dungeon: DT
  exits:
    "Deku Tree MQ Grave Room": "true"
    "Deku Tree Back Room Entry Door": "true"
"Deku Tree Back Room Entry Door":
  dungeon: DT
  exits:
    "Deku Tree Gravestone Room Back Room Door": "true"
    "Deku Tree Back Side Room": "true"
"Deku Tree Back Side Room":
  dungeon: DT
  exits:
    "Deku Tree Back Room Entry Door": "true" #One-sided collision for webbing; might need to be changed for door rando.
  #events:
    #STICKS: "can_kill_baba_sticks"  #Big Deku Baba here
    #NUTS: "can_kill_baba_nuts" #Big Deku Baba here
  locations:
    "MQ Deku Tree GS Back Room": "gs && can_collect_distance"
    "MQ Deku Tree Grass Back Room 1": "can_cut_grass"
    "MQ Deku Tree Grass Back Room 2": "can_cut_grass"
    "MQ Deku Tree Grass Back Room 3": "can_cut_grass"
"Deku Tree Basement Ledge":
  dungeon: DT
  exits:
    "Deku Tree Basement": "true"
    "Deku Tree Before Boss": "(can_use_sticks && (is_adult || (is_child && event(DEKU_BLLOCK)))) || has_fire"
    "Deku Tree MQ Grave Room": "is_child"
  events:
    DEKU_BLOCK: "true"
    #STICKS: "can_kill_baba_sticks"  #Big Deku Baba here
    #NUTS: "can_kill_baba_nuts" #Big Deku Baba here
  locations:
    "MQ Deku Tree Scrub": "business_scrub(0x1b)"
    "MQ Deku Tree Grass Basement Upper 1": "can_cut_grass"
    "MQ Deku Tree Grass Basement Upper 2": "can_cut_grass"
    "MQ Deku Tree Grass Basement Upper 3": "can_cut_grass"
"Deku Tree Before Boss":
  dungeon: DT
  exits:
    "Deku Tree Basement Ledge": "true"
    "Deku Tree Boss": "has_shield_for_scrubs && soul_deku_scrub"
  locations:
    "MQ Deku Tree Grass Room Before Boss 1": "can_cut_grass"
    "MQ Deku Tree Grass Room Before Boss 2": "can_cut_grass"
    "MQ Deku Tree Grass Room Before Boss 3": "can_cut_grass"
    "MQ Deku Tree Heart Before Boss 1": "true"
    "MQ Deku Tree Heart Before Boss 2": "true"
    "MQ Deku Tree Heart Before Boss 3": "true"
